ğŸŸ¦ Baik banget Rian, dan kamu **tepat sekali berhenti di titik ini untuk memastikan arah desainnya benar dulu** sebelum melangkah ke tahap lanjutan â€” ini keputusan yang sangat tepat sebagai *system architect* ğŸ’ª

Mari kita bahas secara menyeluruh dan sistematis supaya kamu mendapatkan **gambaran utuh antara `usulan_bansos`, `dtsen_usulan`, dan `dtsen_usulan_art`**, serta mengapa mereka bisa coexist dan bagaimana sebaiknya kamu gunakan di arsitektur **SINDEN-DTSEN** ini.

---

## ğŸ§© 1ï¸âƒ£ â€” Fungsi dan Filosofi Per Tabel

### ğŸ”¹ `usulan_bansos`

ğŸ“˜ **Asal dan tujuan:**

* Ini adalah **tabel usulan bansos langsung dari petugas lapangan**, yang digunakan untuk *pendataan program bantuan sosial bulanan* (BPNT, PKH, PBI, dsb).
* Ia bersifat **operasional langsung**, artinya:

  * 1 record = 1 usulan aktif.
  * Dikirim oleh user tertentu setiap bulan.
  * Langsung berhubungan dengan verifikasi bansos (Daftar Draft â†’ Dikirim â†’ Diverifikasi â†’ Diterima/Ditolak).

ğŸ“Š **Isi datanya ringkas, fungsional:**

```text
id_kk, nik, program_bansos, catatan, status, created_at, created_by
```

ğŸ“Œ **Karakteristiknya:**

| Aspek       | Penjelasan                          |
| ----------- | ----------------------------------- |
| Domain      | Bansos (bantuan sosial)             |
| Entitas     | Individu                            |
| Sumber data | dtsen_art / dtsen_kk                |
| Arah alur   | Dari lapangan ke proses verifikasi  |
| Sifat data  | Flat, cepat, sederhana, 1:1         |
| Kaitan      | Digunakan di menu **Usulan Bansos** |

ğŸ§  Jadi: `usulan_bansos` adalah **tempat penyimpanan data usulan program bantuan**, bukan perubahan data kependudukan.

---

### ğŸ”¹ `dtsen_usulan`

ğŸ“— **Asal dan tujuan:**

* Ini adalah **tabel master sistem pembaruan data SINDEN**, bukan bansos.
* Didesain untuk menampung *semua jenis pengajuan perubahan data* dari lapangan, seperti:

  * Pembaruan data keluarga (alamat, anggota, kepemilikan rumah, dll)
  * Penambahan keluarga baru
  * Penambahan individu baru
  * Penghapusan anggota keluarga
* Jadi, ini bukan untuk program bantuan, tapi untuk *pemutakhiran struktur data kependudukan* di dalam sistem DTSEN.

ğŸ“Š **Struktur pentingnya:**

| Kolom                        | Fungsi                                                                         |
| ---------------------------- | ------------------------------------------------------------------------------ |
| `jenis`                      | Menandakan tipe usulan (pembaruan / keluarga_baru / individu_baru / lainnya)   |
| `payload`                    | Menyimpan detail data dalam format JSON                                        |
| `status`                     | Menunjukkan tahapan verifikasi (draft, submitted, verified, applied, rejected) |
| `created_by` / `assigned_to` | Menandai siapa pengusul dan siapa pemeriksa                                    |
| `summary`                    | Ringkasan hasil / catatan verifikator                                          |

ğŸ“Œ **Karakteristiknya:**

| Aspek       | Penjelasan                                            |
| ----------- | ----------------------------------------------------- |
| Domain      | Data sosial kependudukan                              |
| Entitas     | Keluarga (dtsen_kk)                                   |
| Sumber data | Form pembaruan data                                   |
| Arah alur   | Dari operator â†’ verifikator â†’ diterapkan ke `dtsen_*` |
| Sifat data  | Tersusun, historikal, bisa diverifikasi               |
| Kaitan      | Digunakan di menu **Pembaruan Data Keluarga**         |

---

### ğŸ”¹ `dtsen_usulan_art`

ğŸ“™ **Asal dan tujuan:**

* Anak tabel dari `dtsen_usulan`, digunakan jika `payload` usulan melibatkan individu tertentu.
* Contohnya:

  * Tambah anggota keluarga baru â†’ data anggota ditampung di `dtsen_usulan_art`.
  * Perubahan nama anggota â†’ anggota terkait di-*track* lewat relasi `dtsen_usulan_id`.

ğŸ“Š **Isi datanya:**

```text
dtsen_usulan_id (foreign key), nik, nama, hubungan, payload_member (JSON detail individu)
```

ğŸ“Œ **Karakteristiknya:**

| Aspek      | Penjelasan                                                                  |
| ---------- | --------------------------------------------------------------------------- |
| Domain     | Perubahan data individu                                                     |
| Hubungan   | Anak dari `dtsen_usulan`                                                    |
| Sifat data | Mendetail per individu                                                      |
| Kaitan     | Digunakan oleh sub-menu **Tambah Individu Baru** & **Penghapusan Individu** |

---

## ğŸ§­ 2ï¸âƒ£ â€” Relasi dan Posisi Mereka di Aplikasi

Kita punya dua domain besar di proyek **SINDEN-DTSEN**:

| Domain                       | Modul                               | Tabel utama                        | Keterangan                             |
| ---------------------------- | ----------------------------------- | ---------------------------------- | -------------------------------------- |
| ğŸ”¹ *Usulan Program Bansos*   | `UsulanBansos`                      | `usulan_bansos`                    | Program bansos (BPNT, PKH, PBI)        |
| ğŸ”¸ *Pembaruan Data Keluarga* | `DtsenSe`, `DtsenKk`, `DtsenUsulan` | `dtsen_usulan`, `dtsen_usulan_art` | Perubahan / sinkronisasi data keluarga |

> ğŸ§  Dengan kata lain:
>
> * **usulan_bansos** â†’ berurusan dengan â€œsiapa layak mendapat bantuanâ€.
> * **dtsen_usulan** â†’ berurusan dengan â€œbagaimana memperbarui data dasar merekaâ€.

---

## ğŸ” 3ï¸âƒ£ â€” Alur integrasi ideal antara keduanya

Jika proyek kamu berkembang ke sistem yang terintegrasi (misalnya SINDEN versi penuh), maka hubungan antar tabel bisa berjalan seperti ini:

```
[Form Tambah Usulan Bansos]
       â”‚
       â–¼
Insert â†’ usulan_bansos
       â”‚
       â–¼
(verifikasi bansos)
       â”‚
       â–¼
Jika disetujui â†’ cek dtsen_usulan
   â”‚
   â”œâ”€â”€ Jika keluarga belum ada di DTSEN â†’ buat dtsen_usulan (jenis=keluarga_baru)
   â””â”€â”€ Jika data sudah ada tapi butuh update â†’ buat dtsen_usulan (jenis=pembaruan)
```

Artinya:

* **Bansos** dan **pembaruan data keluarga** punya *alur paralel*, tapi bisa *bertemu di titik verifikasi* bila data baru muncul dari hasil bansos.

---

## ğŸ’¡ 4ï¸âƒ£ â€” Jadi, kesimpulan singkat

| Tabel              | Tujuan                                 | Dipakai oleh                     | Sifat                     |
| ------------------ | -------------------------------------- | -------------------------------- | ------------------------- |
| `usulan_bansos`    | Usulan bantuan sosial (BPNT, PKH, PBI) | Menu **Usulan Bansos**           | Flat, 1:1 individu        |
| `dtsen_usulan`     | Usulan pembaruan data keluarga         | Menu **Pembaruan Data Keluarga** | JSON struktural, historis |
| `dtsen_usulan_art` | Detil individu di dalam usulan         | Submenu individu                 | Anak dari `dtsen_usulan`  |

---

## ğŸ“˜ 5ï¸âƒ£ â€” Rekomendasi Praktik Implementasi

1. **Pertahankan `usulan_bansos`** untuk form bansos (seperti yang kamu sudah pakai sekarang âœ…).
2. **Gunakan `dtsen_usulan` + `dtsen_usulan_art`** hanya untuk pembaruan kependudukan (bukan untuk bansos).
3. Jika ke depan ingin mengintegrasikan dua domain ini:

   * Tambahkan kolom `source` di `dtsen_usulan` (misalnya: `'manual'`, `'bansos'`).
   * Maka bansos yang memunculkan data baru bisa tercatat di histori sinkronisasi.

---

Kalimat ringkasnya begini:

> â€œ`usulan_bansos` adalah *data sosial ekonomi (layak bantuan)*,
> sedangkan `dtsen_usulan` adalah *data demografis (keluarga dan anggota)*.â€

---

Apabila arah pengembangan kamu nanti menginginkan satu dashboard rekap, maka dua tabel ini bisa di-*join* melalui `nik` atau `id_kk` sebagai *key penghubung*.
Tapi dalam konteks saat ini, **Form Usulan Bansos â†’ `usulan_bansos`** sudah 100% benar dan sesuai dengan fungsi modulnya.

---

Apakah kamu ingin saya bantu buatkan diagram DFD-level-1 untuk menggambarkan bagaimana **Usulan Bansos (usulan_bansos)** dan **Pembaruan Data (dtsen_usulan)** bisa saling terhubung tanpa tumpang-tindih?
Itu akan sangat membantu kalau nanti kamu ingin buat integrasi dashboard tunggal.
